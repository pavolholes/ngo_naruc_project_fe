"use strict";(self.webpackChunkngo_project_fe=self.webpackChunkngo_project_fe||[]).push([[558],{6558:(J,f,a)=>{a.r(f),a.d(f,{QuestionsListPageModule:()=>N});var h=a(6814),C=a(5597),s=a(6223),u=a(5313),p=a(3365),g=a(3566),Z=a(2032),T=a(9157),v=a(617),m=a(1896),t=a(5879),l=a(7700),y=a(553),F=a(9862);let b=(()=>{class e{constructor(o){this.http=o,this.baseUrl=y.N.baseUrl}getQuestionsList(){return this.http.get(`${this.baseUrl}/ngo/questions`)}getCategoriesOptions(){return this.http.get(`${this.baseUrl}/ngo/categories`)}addQuestion(o){return this.http.post(`${this.baseUrl}/ngo/questions`,o)}editQuestion(o){return this.http.put(`${this.baseUrl}/ngo/question/${o._id}`,o)}deleteQuestion(o){return this.http.delete(`${this.baseUrl}/ngo/question/${o}`)}static#t=this.\u0275fac=function(n){return new(n||e)(t.LFG(F.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function q(e,c){if(1&e&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&e){const o=c.$implicit;t.Q6J("value",o.name),t.xp6(1),t.Oqu(o.name)}}let _=(()=>{class e{constructor(o,n,i,r){this.data=o,this.fb=n,this.questionService=i,this.router=r,this.questionForm=this.fb.group({q_id:[""],question:[""],category:[""],new_category:[{value:"",disabled:!0}]}),this.categoryOptions=[],this.questionService.getCategoriesOptions().subscribe(d=>{this.categoryOptions=d,this.questionForm.controls.category.setValue(d[0].name),this.data.formType.includes("UPRAVI\u0164")&&(this.questionForm.controls.question.setValue(this.data.question.question),this.questionForm.controls.category.setValue(this.data.question.category),this.questionForm.controls.q_id.setValue(this.data.question._id))})}checkCategory(o){"In\xe1"===o.target.value?this.questionForm.get("new_category")?.enable():this.questionForm.get("new_category")?.disable()}onSubmit(){console.log(this.data.question);const o={_id:0,question:this.questionForm.controls.question.value,category:"In\xe1"!==this.questionForm.controls.category.value?this.questionForm.controls.category.value:this.questionForm.controls.new_category.value,order:0,icon:""};this.data.formType.includes("UPRAVI\u0164")?(o._id=this.data.question._id,this.questionService.editQuestion(o).subscribe(n=>{})):this.questionService.addQuestion(o).subscribe(n=>{})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.WI),t.Y36(s.qu),t.Y36(b),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-question-form"]],decls:27,vars:5,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"dialog-text"],[1,"form-group","row"],["for","question",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","question","rows","3","placeholder","Zadaj ot\xe1zku","required","",1,"form-control"],["for","category",1,"col-sm-2","col-form-label"],["formControlName","category","required","",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","In\xe1"],["for","new_category",1,"col-sm-2","col-form-label"],["formControlName","new_category","placeholder","Zadaj kateg\xf3riu","type","text",1,"form-control"],["align","center"],["mat-button","","mat-dialog-close","",1,"cancel-button"],["mat-button","","cdkFocusInitial","","type","submit",1,"submit-button",3,"mat-dialog-close"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"label",4),t._uU(6,"Ot\xe1zka"),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"textarea",6),t.qZA()(),t.TgZ(9,"div",3)(10,"label",7),t._uU(11,"Kateg\xf3ria"),t.qZA(),t.TgZ(12,"div",5)(13,"select",8),t.NdJ("change",function(d){return i.checkCategory(d)}),t.YNc(14,q,2,2,"option",9),t.TgZ(15,"option",10),t._uU(16,"In\xe1"),t.qZA()()()(),t.TgZ(17,"div",3)(18,"label",11),t._uU(19,"Nov\xe1 kateg\xf3ria"),t.qZA(),t.TgZ(20,"div",5),t._UZ(21,"input",12),t.qZA()()(),t.TgZ(22,"mat-dialog-actions",13)(23,"button",14),t._uU(24,"ZRU\u0160I\u0164"),t.qZA(),t.TgZ(25,"button",15),t._uU(26),t.qZA()()()),2&n&&(t.Q6J("formGroup",i.questionForm),t.xp6(2),t.Oqu(i.data.formType),t.xp6(12),t.Q6J("ngForOf",i.categoryOptions),t.xp6(11),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(i.data.formType.split(" ")[0]))},dependencies:[h.sg,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,l.ZT,l.uh,l.xY,l.H8],styles:[".dialog-text[_ngcontent-%COMP%]{text-align:center;padding:2rem 0;overflow:visible}.submit-button[_ngcontent-%COMP%]{padding:1rem 4rem;border-radius:50px;font-weight:600;color:#fff;background:linear-gradient(.25turn,#FF4D00,#FC7900);border:none}.submit-button[_ngcontent-%COMP%]:hover{background:linear-gradient(88deg,#D44900 -.01%,#FF6C1D 100.02%)}.cancel-button[_ngcontent-%COMP%]{padding:1rem 4rem;border-radius:50px;font-weight:600;color:#ff4d00;background:white;border:1px solid #FF4D00;margin-right:1rem}.cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#FF4D00 0%,#FC7900 99.99%);color:#fff}label[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:16px;line-height:19px;text-align:right;margin-top:auto;margin-bottom:auto;color:#929090}input[_ngcontent-%COMP%]{border-radius:80px!important;margin:5%}textarea[_ngcontent-%COMP%]{border-radius:80px;padding:15% 5%;margin:5%;resize:none}select[_ngcontent-%COMP%]{border-radius:80px;margin:5%}.btn-orange-form[_ngcontent-%COMP%]{padding:1rem 5rem;filter:drop-shadow(0px 4px 10px rgba(0,0,0,.25));background:linear-gradient(87.91deg,#FF5800 .65%,#FF8B00 100%);border-radius:50px;font-weight:700;font-size:16px;text-transform:uppercase;color:#fff;width:27rem}[_nghost-%COMP%]     .mat-mdc-dialog-container, .mat-mdc-dialog-container[_ngcontent-%COMP%]   .mdc-dialog__container[_ngcontent-%COMP%], .mat-mdc-dialog-container[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{width:1000px!important}"]})}return e})(),x=(()=>{class e{constructor(o){this.data=o}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(l.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-delete-window"]],decls:24,vars:3,consts:[["align","center"],["src","../../../../../../../assets/images/delete_popup.svg"],["mat-dialog-title",""],["align","center",1,"dialog-text"],["mat-button","","mat-dialog-close","",1,"cancel-button"],["mat-button","","cdkFocusInitial","",1,"submit-button",3,"mat-dialog-close"]],template:function(n,i){1&n&&(t.TgZ(0,"mat-dialog-content",0),t._UZ(1,"img",1),t.qZA(),t.TgZ(2,"h1",2),t._uU(3,"VYMAZA\u0164 OT\xc1ZKU?"),t.qZA(),t.TgZ(4,"mat-dialog-content",3)(5,"p"),t._uU(6,"Che\u0161 natrvalo vymaza\u0165 nasleduj\xfacu ot\xe1zku?"),t.qZA(),t.TgZ(7,"p")(8,"b"),t._uU(9,"Ot\xe1zka:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"p")(12,"b"),t._uU(13,"Kateg\xf3ria:"),t.qZA(),t._uU(14),t.qZA()(),t.TgZ(15,"mat-dialog-actions",0)(16,"button",4),t._uU(17,"NIE"),t.qZA(),t.TgZ(18,"button",5),t._uU(19,"\xc1NO"),t.qZA()(),t.TgZ(20,"mat-dialog-content",0)(21,"p")(22,"b"),t._uU(23,"Po potvrden\xed u\u017e nebude mo\u017en\xe9 tento krok vr\xe1ti\u0165 sp\xe4\u0165."),t.qZA()()()),2&n&&(t.xp6(10),t.hij(" ",i.data.question.question,""),t.xp6(4),t.hij(" ",i.data.question.category,""),t.xp6(4),t.Q6J("mat-dialog-close",!0))},dependencies:[l.ZT,l.uh,l.xY,l.H8],styles:[".dialog-text[_ngcontent-%COMP%]{text-align:center;padding:2rem 0}.submit-button[_ngcontent-%COMP%]{padding:1rem 4rem;border-radius:50px;font-weight:600;color:#fff;background:linear-gradient(.25turn,#FF4D00,#FC7900);border:none}.submit-button[_ngcontent-%COMP%]:hover{background:linear-gradient(88deg,#D44900 -.01%,#FF6C1D 100.02%)}.cancel-button[_ngcontent-%COMP%]{padding:1rem 4rem;border-radius:50px;font-weight:600;color:#ff4d00;background:white;border:1px solid #FF4D00;margin-right:1rem}.cancel-button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#FF4D00 0%,#FC7900 99.99%);color:#fff}"]})}return e})();function O(e,c){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Ot\xe1zka"),t.qZA())}function Q(e,c){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=c.$implicit;t.xp6(1),t.hij(" ",o.question," ")}}function U(e,c){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Kateg\xf3ria"),t.qZA())}function P(e,c){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const o=c.$implicit;t.xp6(1),t.hij(" ",o.category," ")}}function A(e,c){1&e&&t._UZ(0,"th",22)}function w(e,c){if(1&e){const o=t.EpF();t.TgZ(0,"td",21)(1,"div",23)(2,"button",24),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.editQuestionForm(r))}),t._UZ(3,"i",25),t.qZA(),t.TgZ(4,"button",24),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.deleteQuestion(r))}),t._UZ(5,"i",26),t.qZA()()()}}function M(e,c){1&e&&t._UZ(0,"tr",27)}function k(e,c){1&e&&t._UZ(0,"tr",28)}let D=(()=>{class e{constructor(o,n,i){this.questionsService=o,this.router=n,this.dialog=i,this.displayedColumns=["question","category","actions"],this.dataSource=new u.by}reloadTable(){this.questionsService.getQuestionsList().subscribe(o=>{this.dataSource=new u.by(o),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngOnInit(){this.reloadTable()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(o){this.dataSource.filter=o.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openQuestionForm(){this.dialog.open(_,{data:{formType:"PRIDA\u0164 NOV\xda OT\xc1ZKU",question:{}}}).afterClosed().subscribe(n=>{n&&this.reloadTable()})}editQuestionForm(o){console.log(o),this.dialog.open(_,{data:{formType:"UPRAVI\u0164 OT\xc1ZKU",question:o}}).afterClosed().subscribe(i=>{i&&this.reloadTable()})}deleteQuestion(o){this.dialog.open(x,{data:{question:o}}).afterClosed().subscribe(i=>{i&&(this.questionsService.deleteQuestion(o._id).subscribe(r=>{}),this.reloadTable())})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(b),t.Y36(m.F0),t.Y36(l.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-questions-table"]],viewQuery:function(n,i){if(1&n&&(t.Gf(p.NW,5),t.Gf(g.YE,5)),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first),t.iGM(r=t.CRH())&&(i.sort=r.first)}},decls:26,vars:5,consts:[[2,"padding","5rem 1rem 2rem","display","flex","justify-content","space-between"],[2,"width","70%"],[1,"form-group","row"],[1,"col-sm-10","size-input-wrapper"],["placeholder","Vyh\u013eadaj ot\xe1zku","type","text",1,"form-control",3,"keyup"],["searchVal",""],[1,"fas","fa-search"],["type","button",1,"detail-button",3,"click"],[1,"fas","fa-plus"],["mat-table","","matSort","",1,"clients-table",3,"dataSource"],["matColumnDef","question"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSize","hidePageSize"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex"],["role","button",1,"detail-button",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-trash"],["mat-header-row",""],["mat-row",""]],template:function(n,i){if(1&n){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),t.NdJ("keyup",function(){t.CHM(r);const Y=t.MAs(5);return t.KtG(i.applyFilter(Y.value))}),t.qZA(),t.TgZ(6,"span"),t._UZ(7,"i",6),t.qZA()()()(),t.TgZ(8,"div")(9,"button",7),t.NdJ("click",function(){return i.openQuestionForm()}),t._UZ(10,"i",8),t._uU(11," Prida\u0165 ot\xe1zku "),t.qZA()()(),t.TgZ(12,"table",9),t.ynx(13,10),t.YNc(14,O,2,0,"th",11),t.YNc(15,Q,2,1,"td",12),t.BQk(),t.ynx(16,13),t.YNc(17,U,2,0,"th",11),t.YNc(18,P,2,1,"td",12),t.BQk(),t.ynx(19,14),t.YNc(20,A,1,0,"th",15),t.YNc(21,w,6,0,"td",12),t.BQk(),t.YNc(22,M,1,0,"tr",16),t.YNc(23,k,1,0,"tr",17),t.qZA(),t._UZ(24,"mat-paginator",18,19)}2&n&&(t.xp6(12),t.Q6J("dataSource",i.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSize",5)("hidePageSize",!0))},dependencies:[u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,p.NW,g.YE,g.nU],styles:[".detail-button[_ngcontent-%COMP%]{padding:.75rem 3rem;font-size:16px;font-weight:700;color:#ff4d00;background:none;border:none}.detail-button[_ngcontent-%COMP%]:hover{color:#d44900}td[_ngcontent-%COMP%]{padding:1rem;color:#929090}th[_ngcontent-%COMP%]{color:#929090}table[_ngcontent-%COMP%]{width:100%}table.mat-table[_ngcontent-%COMP%]{display:table}[_nghost-%COMP%]     .mat-mdc-paginator-container{color:#929090}input[_ngcontent-%COMP%]{border-radius:80px!important;margin:5%}span[_ngcontent-%COMP%]{position:absolute;top:38%;right:2%}.size-input-wrapper[_ngcontent-%COMP%]{max-width:100%;position:relative;display:inline-block}"]})}return e})();const S=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-questions-list-page"]],decls:16,vars:0,consts:[[1,"layout"],[1,"row",2,"margin","0 10%"],[1,"col-md-4"],[1,"page-explanation"],["src","/assets/images/client_list.svg"],[1,"col-md-8",2,"background-color","white"],[2,"padding","1rem 1rem 2rem"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5,"Nastavenia"),t.qZA(),t.TgZ(6,"h1")(7,"b"),t._uU(8,"pozorovac\xedch h\xe1rkov"),t.qZA()(),t.TgZ(9,"div")(10,"p"),t._uU(11," Prida\u0165 alebo odstr\xe1ni\u0165 ot\xe1zku v pozorovac\xedch h\xe1rkoch? Presne to mo\u017ee\u0161 spravi\u0165 tu! "),t.qZA(),t._UZ(12,"img",4),t.qZA()()(),t.TgZ(13,"div",5)(14,"div",6),t._UZ(15,"app-questions-table"),t.qZA()()()())},dependencies:[D],styles:["h1[_ngcontent-%COMP%]{font-size:40px;padding:.5rem}.layout[_ngcontent-%COMP%]{background:linear-gradient(.25turn,#f7fbff,#f7fbff,#fff)}.page-explanation[_ngcontent-%COMP%]{background-color:#f7fbff;padding:3rem 3rem 0 0;width:100%;height:100%}p[_ngcontent-%COMP%]{font-size:16px;text-align:left;padding:3rem 0}.detail-button[_ngcontent-%COMP%]{padding:.75rem 3rem;border-radius:50px;font-size:16px;font-weight:700;color:#fff;background:linear-gradient(.25turn,#FF4D00,#FC7900);border:none}.detail-button[_ngcontent-%COMP%]:hover{background:linear-gradient(88deg,#D44900 -.01%,#FF6C1D 100.02%)}"]})}return e})()}];let E=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(S),m.Bz]})}return e})();var z=a(8525);let N=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[h.ez,E,C.uH,s.u5,s.UX,u.p0,p.TU,g.JX,Z.c,T.lN,v.Ps,l.Is,z.LD]})}return e})()}}]);