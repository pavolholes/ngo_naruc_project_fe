"use strict";(self.webpackChunkngo_project_fe=self.webpackChunkngo_project_fe||[]).push([[949],{5949:(_,h,i)=>{i.r(h),i.d(h,{ClientsListPageModule:()=>B});var u=i(6814),m=i(1896),t=i(5879),d=i(3365),a=i(5313),f=i(3566),l=i(5836);function p(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Meno"),t.qZA())}function T(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function v(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Priezvisko"),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.surname," ")}}function y(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"\u010c\xedslo zmluvy"),t.qZA())}function Z(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.contract_no," ")}}function x(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Rok"),t.qZA())}function U(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.registration_date,"yyyy")," ")}}function D(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Posledn\xe1 F\xe1za"),t.qZA())}function E(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.last_phase," ")}}function P(e,o){1&e&&t._UZ(0,"th",21)}function M(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",20)(1,"button",22),t.NdJ("click",function(){const c=t.CHM(n).$implicit,C=t.oxw();return t.KtG(C.showClientOverview(c))}),t._uU(2,"Detaily"),t.qZA()()}}function w(e,o){1&e&&t._UZ(0,"tr",23)}function A(e,o){1&e&&t._UZ(0,"tr",24)}let z=(()=>{class e{constructor(n,s){this.clientService=n,this.router=s,this.displayedColumns=["name","surname","contract_no","registration_date","last_phase","details"],this.dataSource=new a.by}ngOnInit(){this.clientService.getClientsList().subscribe(n=>{this.dataSource=new a.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(n){this.dataSource.filter=n.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}showClientOverview(n){this.router.navigate(["/client-overview",n._id]),this.clientService.selectedClient$.emit(n)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(l.y),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-clients-table"]],viewQuery:function(s,r){if(1&s&&(t.Gf(d.NW,5),t.Gf(f.YE,5)),2&s){let c;t.iGM(c=t.CRH())&&(r.paginator=c.first),t.iGM(c=t.CRH())&&(r.sort=c.first)}},decls:29,vars:5,consts:[[1,"form-group","row",2,"width","70%"],[1,"col-sm-10","size-input-wrapper"],["placeholder","Vyh\u013eadaj ot\xe1zku","type","text",1,"form-control",3,"keyup"],["searchVal",""],[1,"fas","fa-search"],["mat-table","","matSort","",1,"clients-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","surname"],["matColumnDef","contract_no"],["matColumnDef","registration_date"],["matColumnDef","last_phase"],["matColumnDef","details"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","",3,"pageSize","hidePageSize"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["role","button",1,"detail-button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,r){if(1&s){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("keyup",function(){t.CHM(c);const L=t.MAs(3);return t.KtG(r.applyFilter(L.value))}),t.qZA(),t.TgZ(4,"span"),t._UZ(5,"i",4),t.qZA()()(),t.TgZ(6,"table",5),t.ynx(7,6),t.YNc(8,p,2,0,"th",7),t.YNc(9,T,2,1,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,v,2,0,"th",7),t.YNc(12,b,2,1,"td",8),t.BQk(),t.ynx(13,10),t.YNc(14,y,2,0,"th",7),t.YNc(15,Z,2,1,"td",8),t.BQk(),t.ynx(16,11),t.YNc(17,x,2,0,"th",7),t.YNc(18,U,3,4,"td",8),t.BQk(),t.ynx(19,12),t.YNc(20,D,2,0,"th",7),t.YNc(21,E,2,1,"td",8),t.BQk(),t.ynx(22,13),t.YNc(23,P,1,0,"th",14),t.YNc(24,M,3,0,"td",8),t.BQk(),t.YNc(25,w,1,0,"tr",15),t.YNc(26,A,1,0,"tr",16),t.qZA(),t._UZ(27,"mat-paginator",17,18)}2&s&&(t.xp6(6),t.Q6J("dataSource",r.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSize",5)("hidePageSize",!0))},dependencies:[a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,d.NW,f.YE,f.nU,u.uU],styles:[".detail-button[_ngcontent-%COMP%]{padding:.75rem 3rem;border-radius:50px;font-size:16px;font-weight:700;color:#fff;background:linear-gradient(.25turn,#FF4D00,#FC7900);border:none}.detail-button[_ngcontent-%COMP%]:hover{background:linear-gradient(88deg,#D44900 -.01%,#FF6C1D 100.02%)}td[_ngcontent-%COMP%]{padding:1rem;color:#929090}th[_ngcontent-%COMP%]{color:#929090}table[_ngcontent-%COMP%]{width:100%}table.mat-table[_ngcontent-%COMP%]{display:table}[_nghost-%COMP%]     .mat-mdc-paginator-container{color:#929090}span[_ngcontent-%COMP%]{position:absolute;top:38%;right:2%}.size-input-wrapper[_ngcontent-%COMP%]{max-width:100%;position:relative;display:inline-block}input[_ngcontent-%COMP%]{border-radius:80px!important;margin:5%}"]})}return e})();const O=[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-clients-list-page"]],decls:16,vars:0,consts:[[1,"layout"],[1,"row",2,"margin","0 10%"],[1,"col-md-4"],[1,"page-explanation"],["src","/assets/images/client_list.svg"],[1,"col-md-8",2,"background-color","white"],[2,"padding","5rem 1rem 2rem"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),t._uU(5,"Vyh\u013eadaj si"),t.qZA(),t.TgZ(6,"h1")(7,"b"),t._uU(8,"klienta v zozname"),t.qZA()(),t.TgZ(9,"div")(10,"p"),t._uU(11," Do vyh\u013ead\xe1vania m\xf4\u017ee\u0161 nap\xedsa\u0165 meno, priezvisko, rok, \u010d\xedslo zmluvy alebo f\xe1zu, v ktorej sa klient nach\xe1dza a my ho n\xe1jdeme. Potom u\u017e iba klikni na tla\u010didlo Detaily a uk\xe1\u017eeme ti preh\u013ead zvolen\xe9ho klienta. "),t.qZA(),t._UZ(12,"img",4),t.qZA()()(),t.TgZ(13,"div",5)(14,"div",6),t._UZ(15,"app-clients-table"),t.qZA()()()())},dependencies:[z],styles:["h1[_ngcontent-%COMP%]{font-size:40px;padding:.5rem}.layout[_ngcontent-%COMP%]{background:linear-gradient(.25turn,#f7fbff,#f7fbff,#fff)}.page-explanation[_ngcontent-%COMP%]{background-color:#f7fbff;padding:3rem 3rem 0 0;width:100%;height:100%}p[_ngcontent-%COMP%]{font-size:16px;text-align:left;padding:3rem 0}"]})}return e})()}];let S=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(O),m.Bz]})}return e})();var N=i(5597),g=i(6223),k=i(2032),F=i(9157),Y=i(617);let B=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.ez,S,N.uH,g.u5,g.UX,a.p0,d.TU,f.JX,k.c,F.lN,Y.Ps]})}return e})()},5836:(_,h,i)=>{i.d(h,{y:()=>d});var u=i(5879),m=i(553),t=i(9862);let d=(()=>{class a{constructor(l){this.http=l,this.baseUrl=m.N.baseUrl,this.selectedClient$=new u.vpe,this.client={_id:0,name:"",surname:"",last_phase:1,registration_date:new Date,active:!0},this.selectedClient$.subscribe(p=>{this.client=p})}getClientsList(){return this.http.get(`${this.baseUrl}/ngo/clients`)}editClient(l){return this.http.put(`${this.baseUrl}/ngo/client/${l._id}`,l)}getSelectedClient(){return this.client}getClientById(l){return this.http.get(`${this.baseUrl}/ngo/client/${l}`)}postNewClient(l){return this.http.post(`${this.baseUrl}/ngo/clients`,l)}static#t=this.\u0275fac=function(p){return new(p||a)(u.LFG(t.eN))};static#e=this.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);